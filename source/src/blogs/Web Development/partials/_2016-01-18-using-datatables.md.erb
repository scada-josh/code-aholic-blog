# การใช้งาน DataTable

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ในบทนี้เรามาลองใช้งาน DataTables กันนะครับ เพื่อชีวิตการเป็นนักพัฒนาเว็บที่ง่ายขึ้น

## ติดตั้งไฟล์ javascript และ css

<pre class="prettyprint linenums">
//= require datatables/media/js/jquery.dataTables.min
//= require datatables/media/js/dataTables.bootstrap.min
</pre>


<pre class="prettyprint linenums">
//= require datatables/media/css/dataTables.foundation.min
</pre>



---

## ออกแบบ DataTable ด้วยข้อมูลจำลอง

<br/>

#### ขั้นตอนการพัฒนา :

(1)    ใส่ข้อมูลตารางจำลอง เข้าไปใน container
<pre class="prettyprint linenums">
	&lt;table class=&quot;table table-advance&quot; id=&quot;mainRtuDataTable&quot; style=&quot;width: 100% !important;&quot; &gt;

	&lt;thead&gt;
		&lt;tr&gt;
			&lt;th &gt;DM&lt;/th&gt;
			&lt;th &gt;Branch&lt;/th&gt;
			&lt;th &gt;IP&lt;/th&gt;
			&lt;th &gt;lat, lng&lt;/th&gt;
		&lt;/tr&gt;
	&lt;/thead&gt;

	&lt;tbody&gt;

		&lt;tr&gt;
			&lt;th &gt;DM-01-01-01-01&lt;/th&gt;
			&lt;th &gt;B01&lt;/th&gt;
			&lt;th &gt;10.202.68.253&lt;/th&gt;
			&lt;th &gt;&lt;/th&gt;
		&lt;/tr&gt;
		&lt;tr&gt;
			&lt;th &gt;DM-01-01-01-01&lt;/th&gt;
			&lt;th &gt;B01&lt;/th&gt;
			&lt;th &gt;10.202.68.253&lt;/th&gt;
			&lt;th &gt;&lt;/th&gt;
		&lt;/tr&gt;
		&lt;tr&gt;
			&lt;th &gt;DM-01-01-01-01&lt;/th&gt;
			&lt;th &gt;B01&lt;/th&gt;
			&lt;th &gt;10.202.68.253&lt;/th&gt;
			&lt;th &gt;&lt;/th&gt;
		&lt;/tr&gt;
		&lt;tr&gt;
			&lt;th &gt;DM-01-01-01-01&lt;/th&gt;
			&lt;th &gt;B01&lt;/th&gt;
			&lt;th &gt;10.202.68.253&lt;/th&gt;
			&lt;th &gt;&lt;/th&gt;
		&lt;/tr&gt;
		&lt;tr&gt;
			&lt;th &gt;DM-01-01-01-01&lt;/th&gt;
			&lt;th &gt;B01&lt;/th&gt;
			&lt;th &gt;10.202.68.253&lt;/th&gt;
			&lt;th &gt;&lt;/th&gt;
		&lt;/tr&gt;
		&lt;tr&gt;
			&lt;th &gt;DM-01-01-01-01&lt;/th&gt;
			&lt;th &gt;B01&lt;/th&gt;
			&lt;th &gt;10.202.68.253&lt;/th&gt;
			&lt;th &gt;&lt;/th&gt;
		&lt;/tr&gt;
		&lt;tr&gt;
			&lt;th &gt;DM-01-01-01-01&lt;/th&gt;
			&lt;th &gt;B01&lt;/th&gt;
			&lt;th &gt;10.202.68.253&lt;/th&gt;
			&lt;th &gt;&lt;/th&gt;
		&lt;/tr&gt;
		&lt;tr&gt;
			&lt;th &gt;DM-01-01-01-01&lt;/th&gt;
			&lt;th &gt;B01&lt;/th&gt;
			&lt;th &gt;10.202.68.253&lt;/th&gt;
			&lt;th &gt;&lt;/th&gt;
		&lt;/tr&gt;
		&lt;tr&gt;
			&lt;th &gt;DM-01-01-01-01&lt;/th&gt;
			&lt;th &gt;B01&lt;/th&gt;
			&lt;th &gt;10.202.68.253&lt;/th&gt;
			&lt;th &gt;&lt;/th&gt;
		&lt;/tr&gt;
		&lt;tr&gt;
			&lt;th &gt;DM-01-01-01-01&lt;/th&gt;
			&lt;th &gt;B01&lt;/th&gt;
			&lt;th &gt;10.202.68.253&lt;/th&gt;
			&lt;th &gt;&lt;/th&gt;
		&lt;/tr&gt;
		
	&lt;/tbody&gt;
	                        
	&lt;/table&gt;
</pre>

![separate-line][1] 

(2)    กำหนดค่า `id` ให้กับตาราง (table) ในที่นี้เราจะกำหนดให้เป็น `mainRtuDataTable` พร้อมกับ ลงทะเบียน `id` ไว้ส่วนของ frontmatter ด้วย เพื่อไม่ให้มีการกำหนดค่า `id` ซ้ำในเพจนั้นๆ
	
<pre class="prettyprint linenums">
	#     *** Page DOM ID registered ***
	#     >> mainRtuDataTable (ตาราง Datatable แสดงผลรายการ RTU ที่มี)
</pre>

![separate-line][1] 

(3)    ในส่วนของ JavaScript ให้สร้าง Object ขึ้นมาใหม่ ชื่อว่า `_objectRTU_RtuList` เพื่อใช้ในเพจนี้

<pre class="prettyprint linenums">
var _objectRTU_RtuList = new function() {}
</pre>

![separate-line][1] 

(4)    กำหนดส่วนของ DataTable Configuration

<pre class="prettyprint linenums">
var _objectRTU_RtuList = new function() {

    this.mainRtuDataTable;

	if (jQuery().dataTable) {
	    this.mainRtuDataTable = $('#mainRtuDataTable').DataTable( {
	        "aLengthMenu": [
	                [5, 10, 15, 25, 50, 100, -1],
	                [5, 10, 15, 25, 50, 100, "All"]
	            ],
	        "iDisplayLength": 5,
	        "oLanguage": {
	                "sLengthMenu": "_MENU_ Records per page",
	                "sInfo": "_START_ - _END_ of _TOTAL_",
	                "sInfoEmpty": "0 - 0 of 0",
	                "oPaginate": {
	                    "sPrevious": "Prev",
	                    "sNext": "Next"
	                }
	        },
	        "aoColumnDefs": [
	                {
	                    'bSortable': true,
	                    "bAutoWidth": true,
	                    'aTargets': [0]
	                },{
	                    "render": function ( data, type, row ) {
	                        return "-";
	                    },
	                    "targets": 3
	                }
	        ],
	        "order" : [] //disable default sorting, eg sorting on 1st column
	    });
	}
}
</pre>

<br/>
สังเกตผลลัพธ์...
![image](<%= current_page.data.baseURL %>images/categories/Web%20Development/datatable-fig-001.png)

![separate-line][1] 

(5)   เพิ่มปุ่ม Control ![image](<%= current_page.data.baseURL %>images/categories/Web%20Development/datatable-fig-002.png) 


![separate-line][1]

![separate-line][2]

![separate-line][3]


#### ![idea][2] หาไอเดีย



---

## ใช้งานร่วมกับข้อมูลจริง

---


[1]: <%= current_page.data.baseURL %>images/blog-common/separate-line.png ""
[2]: <%= current_page.data.baseURL %>images/icons/course-syllabus.png "course syllabus"
[3]: <%= current_page.data.baseURL %>images/icons/idea.png "idea"

